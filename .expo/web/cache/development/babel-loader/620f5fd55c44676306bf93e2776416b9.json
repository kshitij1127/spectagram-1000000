{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\kshitij\\\\Desktop\\\\spectagram-stage-9\\\\screens\\\\PostScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { RFPercentage, RFValue } from \"react-native-responsive-fontsize\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport firebase from \"firebase\";\n\nvar PostScreen = function (_Component) {\n  _inherits(PostScreen, _Component);\n\n  var _super = _createSuper(PostScreen);\n\n  function PostScreen(props) {\n    var _this;\n\n    _classCallCheck(this, PostScreen);\n\n    _this = _super.call(this, props);\n\n    _this.fetchUser = function () {\n      var theme;\n      firebase.database().ref(\"/users/\" + firebase.auth().currentUser.uid).on(\"value\", function (snapshot) {\n        theme = snapshot.val().current_theme;\n\n        _this.setState({\n          light_theme: theme === \"light\"\n        });\n      });\n    };\n\n    _this.likeAction = function () {\n      if (_this.state.is_liked) {\n        firebase.database().ref(\"posts\").child(_this.props.route.params.key).child(\"likes\").set(firebase.database.ServerValue.increment(-1));\n\n        _this.setState({\n          likes: _this.state.likes -= 1,\n          is_liked: false\n        });\n      } else {\n        firebase.database().ref(\"posts\").child(_this.props.route.params.key).child(\"likes\").set(firebase.database.ServerValue.increment(1));\n\n        _this.setState({\n          likes: _this.state.likes += 1,\n          is_liked: true\n        });\n      }\n    };\n\n    _this.state = {\n      light_theme: true,\n      likes: _this.props.route.params.value.likes,\n      is_liked: false\n    };\n    return _this;\n  }\n\n  _createClass(PostScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.props.route.params.value) {\n        this.props.navigation.navigate(\"Home\");\n      } else {\n        return React.createElement(View, {\n          style: this.state.light_theme ? styles.containerLight : styles.container,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }\n        }, React.createElement(SafeAreaView, {\n          style: styles.droidSafeArea,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }\n        }), React.createElement(View, {\n          style: styles.appTitle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }\n        }, React.createElement(View, {\n          style: styles.appIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }\n        }, React.createElement(Image, {\n          source: require(\"../assets/logo.png\"),\n          style: styles.iconImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }\n        })), React.createElement(View, {\n          style: styles.appTitleTextContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }\n        }, React.createElement(Text, {\n          style: this.state.light_theme ? styles.appTitleTextLight : styles.appTitleText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }\n        }, \"Spectagram\"))), React.createElement(View, {\n          style: styles.postContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }\n        }, React.createElement(ScrollView, {\n          style: this.state.light_theme ? styles.postCardLight : styles.postCard,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }\n        }, React.createElement(View, {\n          style: styles.authorContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }\n        }, React.createElement(View, {\n          style: styles.authorImageContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }\n        }, React.createElement(Image, {\n          source: {\n            uri: this.props.route.params.value.profile_image\n          },\n          style: styles.profileImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 37\n          }\n        })), React.createElement(View, {\n          style: styles.authorNameContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }\n        }, React.createElement(Text, {\n          style: this.state.light_theme ? styles.authorNameTextLight : styles.authorNameText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 37\n          }\n        }, this.props.route.params.value.author))), React.createElement(Image, {\n          source: require(\"../assets/image_1.jpg\"),\n          style: styles.postImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }\n        }), React.createElement(View, {\n          style: styles.captionContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          style: this.state.light_theme ? styles.captionTextLight : styles.captionText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 33\n          }\n        }, this.props.route.params.value.caption)), React.createElement(View, {\n          style: styles.actionContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: this.state.is_liked ? styles.likeButtonLiked : styles.likeButtonDisliked,\n          onPress: function onPress() {\n            return _this2.likeAction();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }\n        }, React.createElement(Ionicons, {\n          name: \"heart\",\n          size: RFValue(30),\n          color: this.state.light_theme ? \"black\" : \"white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 37\n          }\n        }), React.createElement(Text, {\n          style: this.state.light_theme ? styles.likeTextLight : styles.likeText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 37\n          }\n        }, this.state.likes))))));\n      }\n    }\n  }]);\n\n  return PostScreen;\n}(Component);\n\nexport { PostScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\"\n  },\n  containerLight: {\n    flex: 1,\n    backgroundColor: \"white\"\n  },\n  droidSafeArea: {\n    marginTop: Platform.OS === \"android\" ? StatusBar.currentHeight : RFValue(35)\n  },\n  appTitle: {\n    flex: 0.07,\n    flexDirection: \"row\"\n  },\n  appIcon: {\n    flex: 0.3,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  iconImage: {\n    width: \"100%\",\n    height: \"100%\",\n    resizeMode: \"contain\"\n  },\n  appTitleTextContainer: {\n    flex: 0.7,\n    justifyContent: \"center\"\n  },\n  appTitleText: {\n    color: \"white\",\n    fontSize: RFValue(28)\n  },\n  appTitleTextLight: {\n    color: \"black\",\n    fontSize: RFValue(28)\n  },\n  postContainer: {\n    flex: 1\n  },\n  postCard: {\n    margin: RFValue(20),\n    backgroundColor: \"#2a2a2a\",\n    borderRadius: RFValue(20)\n  },\n  postCardLight: {\n    margin: RFValue(20),\n    backgroundColor: \"#eaeaea\",\n    borderRadius: RFValue(20)\n  },\n  actionContainer: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: RFValue(10)\n  },\n  likeButtonLiked: {\n    width: RFValue(160),\n    height: RFValue(40),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    backgroundColor: \"#eb3948\",\n    borderRadius: RFValue(30)\n  },\n  likeButtonDisliked: {\n    width: RFValue(160),\n    height: RFValue(40),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    borderColor: \"#eb3948\",\n    borderWidth: 2,\n    borderRadius: RFValue(30)\n  },\n  likeText: {\n    color: \"white\",\n    fontSize: 25,\n    marginLeft: 25,\n    marginTop: 6\n  },\n  likeTextLight: {\n    fontSize: 25,\n    marginLeft: 25,\n    marginTop: 6\n  },\n  authorContainer: {\n    height: RFPercentage(10),\n    padding: RFValue(10),\n    flexDirection: \"row\"\n  },\n  authorImageContainer: {\n    flex: 0.15,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  profileImage: {\n    width: \"100%\",\n    height: \"100%\",\n    resizeMode: \"contain\",\n    borderRadius: RFValue(100)\n  },\n  authorNameContainer: {\n    flex: 0.85,\n    padding: RFValue(10),\n    justifyContent: \"center\"\n  },\n  authorNameText: {\n    color: \"white\",\n    fontSize: RFValue(20)\n  },\n  authorNameTextLight: {\n    color: \"black\",\n    fontSize: RFValue(20)\n  },\n  postImage: {\n    width: \"100%\",\n    alignSelf: \"center\",\n    height: RFValue(200),\n    borderTopLeftRadius: RFValue(20),\n    borderTopRightRadius: RFValue(20),\n    resizeMode: \"contain\"\n  },\n  captionContainer: {\n    padding: RFValue(10)\n  },\n  captionText: {\n    fontSize: 13,\n    color: \"white\",\n    paddingTop: RFValue(10)\n  },\n  captionTextLight: {\n    fontSize: 13,\n    color: \"black\",\n    paddingTop: RFValue(10)\n  }\n});","map":{"version":3,"sources":["C:/Users/kshitij/Desktop/spectagram-stage-9/screens/PostScreen.js"],"names":["React","Component","Ionicons","RFPercentage","RFValue","TouchableOpacity","firebase","PostScreen","props","fetchUser","theme","database","ref","auth","currentUser","uid","on","snapshot","val","current_theme","setState","light_theme","likeAction","state","is_liked","child","route","params","key","set","ServerValue","increment","likes","value","navigation","navigate","styles","containerLight","container","droidSafeArea","appTitle","appIcon","require","iconImage","appTitleTextContainer","appTitleTextLight","appTitleText","postContainer","postCardLight","postCard","authorContainer","authorImageContainer","uri","profile_image","profileImage","authorNameContainer","authorNameTextLight","authorNameText","author","postImage","captionContainer","captionTextLight","captionText","caption","actionContainer","likeButtonLiked","likeButtonDisliked","likeTextLight","likeText","StyleSheet","create","flex","backgroundColor","marginTop","Platform","OS","StatusBar","currentHeight","flexDirection","justifyContent","alignItems","width","height","resizeMode","color","fontSize","margin","borderRadius","padding","borderColor","borderWidth","marginLeft","alignSelf","borderTopLeftRadius","borderTopRightRadius","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    SafeAreaView,\r\n    Platform,\r\n    StatusBar,\r\n    Image,\r\n    ScrollView\r\n} from \"react-native\";\r\n\r\nimport Ionicons from \"react-native-vector-icons/Ionicons\";\r\nimport { RFPercentage, RFValue } from \"react-native-responsive-fontsize\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\n\r\nimport firebase from \"firebase\";\r\n\r\nexport default class PostScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            light_theme: true,\r\n            likes: this.props.route.params.value.likes,\r\n            is_liked: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchUser();\r\n    }\r\n\r\n    fetchUser = () => {\r\n        let theme;\r\n        firebase\r\n            .database()\r\n            .ref(\"/users/\" + firebase.auth().currentUser.uid)\r\n            .on(\"value\", (snapshot) => {\r\n                theme = snapshot.val().current_theme\r\n                this.setState({ light_theme: theme === \"light\" })\r\n            })\r\n    }\r\n\r\n    likeAction = () => {\r\n        if (this.state.is_liked) {\r\n            firebase\r\n                .database()\r\n                .ref(\"posts\")\r\n                .child(this.props.route.params.key)\r\n                .child(\"likes\")\r\n                .set(firebase.database.ServerValue.increment(-1));\r\n            this.setState({ likes: (this.state.likes -= 1), is_liked: false });\r\n        } else {\r\n            firebase\r\n                .database()\r\n                .ref(\"posts\")\r\n                .child(this.props.route.params.key)\r\n                .child(\"likes\")\r\n                .set(firebase.database.ServerValue.increment(1));\r\n            this.setState({ likes: (this.state.likes += 1), is_liked: true });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.route.params.value) {\r\n            this.props.navigation.navigate(\"Home\");\r\n        } else {\r\n            return (\r\n                <View style={this.state.light_theme ? styles.containerLight : styles.container}>\r\n                    <SafeAreaView style={styles.droidSafeArea} />\r\n                    <View style={styles.appTitle}>\r\n                        <View style={styles.appIcon}>\r\n                            <Image\r\n                                source={require(\"../assets/logo.png\")}\r\n                                style={styles.iconImage}\r\n                            ></Image>\r\n                        </View>\r\n                        <View style={styles.appTitleTextContainer}>\r\n                            <Text style={this.state.light_theme ? styles.appTitleTextLight : styles.appTitleText}>Spectagram</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.postContainer}>\r\n                        <ScrollView style={this.state.light_theme ? styles.postCardLight : styles.postCard}>\r\n                            <View style={styles.authorContainer}>\r\n                                <View style={styles.authorImageContainer}>\r\n                                    <Image\r\n                                        source={{ uri: this.props.route.params.value.profile_image }}\r\n                                        style={styles.profileImage}\r\n                                    ></Image>\r\n                                </View>\r\n                                <View style={styles.authorNameContainer}>\r\n                                    <Text style={this.state.light_theme ? styles.authorNameTextLight : styles.authorNameText}>{this.props.route.params.value.author}</Text>\r\n                                </View>\r\n                            </View>\r\n                            <Image source={require(\"../assets/image_1.jpg\")} style={styles.postImage} />\r\n                            <View style={styles.captionContainer}>\r\n                                <Text style={this.state.light_theme ? styles.captionTextLight : styles.captionText}>\r\n                                    {this.props.route.params.value.caption}\r\n                                </Text>\r\n                            </View>\r\n                            <View style={styles.actionContainer}>\r\n                                <TouchableOpacity\r\n                                    style={\r\n                                        this.state.is_liked\r\n                                            ? styles.likeButtonLiked\r\n                                            : styles.likeButtonDisliked\r\n                                    }\r\n                                    onPress={() => this.likeAction()}\r\n                                >\r\n                                    <Ionicons\r\n                                        name={\"heart\"}\r\n                                        size={RFValue(30)}\r\n                                        color={this.state.light_theme ? \"black\" : \"white\"}\r\n                                    />\r\n\r\n                                    <Text\r\n                                        style={\r\n                                            this.state.light_theme\r\n                                                ? styles.likeTextLight\r\n                                                : styles.likeText\r\n                                        }\r\n                                    >\r\n                                        {this.state.likes}\r\n                                    </Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </ScrollView>\r\n                    </View>\r\n                </View>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"black\"\r\n    },\r\n    containerLight: {\r\n        flex: 1,\r\n        backgroundColor: \"white\"\r\n    },\r\n    droidSafeArea: {\r\n        marginTop: Platform.OS === \"android\" ? StatusBar.currentHeight : RFValue(35)\r\n    },\r\n    appTitle: {\r\n        flex: 0.07,\r\n        flexDirection: \"row\"\r\n    },\r\n    appIcon: {\r\n        flex: 0.3,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    iconImage: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        resizeMode: \"contain\"\r\n    },\r\n    appTitleTextContainer: {\r\n        flex: 0.7,\r\n        justifyContent: \"center\"\r\n    },\r\n    appTitleText: {\r\n        color: \"white\",\r\n        fontSize: RFValue(28)\r\n    },\r\n    appTitleTextLight: {\r\n        color: \"black\",\r\n        fontSize: RFValue(28),\r\n    },\r\n    postContainer: {\r\n        flex: 1\r\n    },\r\n    postCard: {\r\n        margin: RFValue(20),\r\n        backgroundColor: \"#2a2a2a\",\r\n        borderRadius: RFValue(20)\r\n    },\r\n    postCardLight: {\r\n        margin: RFValue(20),\r\n        backgroundColor: \"#eaeaea\",\r\n        borderRadius: RFValue(20)\r\n    },\r\n    actionContainer: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        padding: RFValue(10)\r\n    },\r\n    likeButtonLiked: {\r\n        width: RFValue(160),\r\n        height: RFValue(40),\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"row\",\r\n        backgroundColor: \"#eb3948\",\r\n        borderRadius: RFValue(30)\r\n    },\r\n    likeButtonDisliked: {\r\n        width: RFValue(160),\r\n        height: RFValue(40),\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"row\",\r\n        borderColor: \"#eb3948\",\r\n        borderWidth: 2,\r\n        borderRadius: RFValue(30)\r\n    },\r\n    likeText: {\r\n        color: \"white\",\r\n        fontSize: 25,\r\n        marginLeft: 25,\r\n        marginTop: 6\r\n    },\r\n    likeTextLight: {\r\n        fontSize: 25,\r\n        marginLeft: 25,\r\n        marginTop: 6\r\n    },\r\n    authorContainer: {\r\n        height: RFPercentage(10),\r\n        padding: RFValue(10),\r\n        flexDirection: \"row\"\r\n    },\r\n    authorImageContainer: {\r\n        flex: 0.15,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n    profileImage: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        resizeMode: \"contain\",\r\n        borderRadius: RFValue(100)\r\n    },\r\n    authorNameContainer: {\r\n        flex: 0.85,\r\n        padding: RFValue(10),\r\n        justifyContent: \"center\"\r\n    },\r\n    authorNameText: {\r\n        color: \"white\",\r\n        fontSize: RFValue(20)\r\n    },\r\n    authorNameTextLight: {\r\n        color: \"black\",\r\n        fontSize: RFValue(20)\r\n    },\r\n    postImage: {\r\n        width: \"100%\",\r\n        alignSelf: \"center\",\r\n        height: RFValue(200),\r\n        borderTopLeftRadius: RFValue(20),\r\n        borderTopRightRadius: RFValue(20),\r\n        resizeMode: \"contain\"\r\n    },\r\n    captionContainer: {\r\n        padding: RFValue(10)\r\n    },\r\n    captionText: {\r\n        fontSize: 13,\r\n        color: \"white\",\r\n        paddingTop: RFValue(10)\r\n    },\r\n    captionTextLight: {\r\n        fontSize: 13,\r\n        color: \"black\",\r\n        paddingTop: RFValue(10)\r\n    },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}